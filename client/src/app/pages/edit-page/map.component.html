<div class="map-container max-h-[98vh] max-w-[48vw]">
    @for(row of mapManagerService.currentMap.mapArray; track row; let rowIndex = $index;){
    <div class="row">
        @for(tile of row; track colIndex; let colIndex = $index;){
        <div
            class="tile"
            [ngClass]="terrainToStringMap[tile.terrain]"
            (mousedown)="onMouseDownEmptyTile($event, rowIndex, colIndex)"
            (mouseup)="onMouseUp()"
            (mouseover)="onMouseOver($event, rowIndex, colIndex)"
            (dragover)="onDragOver($event)"
            draggable="false"
            (drop)="onDrop($event, rowIndex, colIndex)"
            (contextmenu)="preventRightClick($event)"
            [ngStyle]="{ 'width.px': tileSize, 'height.px': tileSize, 'background-size': 'cover' }"
        >
            @if(tile.item !== item.NONE){
            <div
                class="tooltip tooltip-bottom"
                [ngStyle]="{ 'width.px': tileSize, 'height.px': tileSize }"
                [attr.data-tip]="itemDescriptions[itemToStringMap[tile.item]]"
            >
                <div
                    class="item"
                    [ngClass]="itemToStringMap[tile.item]"
                    (mousedown)="onMouseDownItem($event, rowIndex, colIndex)"
                    draggable="true"
                    (dragstart)="onDragStart($event, rowIndex, colIndex)"
                    (mouseup)="onMouseUp()"
                    (contextmenu)="preventRightClick($event)"
                    (click)="fullClickOnItem($event, rowIndex, colIndex)"
                    [ngStyle]="{ 'width.px': tileSize, 'height.px': tileSize, 'background-size': 'cover', cursor: 'pointer' }"
                ></div>
            </div>
            }
        </div>
        }
    </div>
    }
</div>
