<div class="map-container">
    @for(row of editPageService.mapGrid; track row; let rowIndex = $index;){
    <div class="row">
        @for(tile of row; track colIndex; let colIndex = $index;){
        <div
            class="tile"
            [ngClass]="convertTerrainToString(tile.terrain)"
            (mousedown)="onMouseDownEmptyTile($event, rowIndex, colIndex)"
            (mouseup)="onMouseUp()"
            (mouseover)="onMouseOver($event, rowIndex, colIndex)"
            (dragover)="onDragOver($event)"
            draggable="false"
            (drop)="onDrop($event, rowIndex, colIndex)"
            (contextmenu)="preventRightClick($event)"
            [ngStyle]="{ 'width.px': tileSize, 'height.px': tileSize, 'background-size': 'cover' }"
        >
            @if(tile.item !== item.NONE){
            <div
                class="item"
                [ngClass]="convertItemToString(tile.item)"
                (mousedown)="onMouseDownItem($event, rowIndex, colIndex)"
                draggable="true"
                (dragstart)="onDragStart($event, rowIndex, colIndex)"
                (mouseup)="onMouseUp()"
                (contextmenu)="preventRightClick($event)"
                (click)="fullClickOnItem($event, rowIndex, colIndex)"
                [ngStyle]="{ 'width.px': tileSize, 'height.px': tileSize, 'background-size': 'cover' }"
            ></div>
            }
        </div>
        }
    </div>
    }
</div>
