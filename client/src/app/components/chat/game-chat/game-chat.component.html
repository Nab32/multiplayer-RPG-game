<section>
    <div>
        <div>
            <button id="joinRoomBtn" class="btn" (click)="joinRoom()">Rejoindre une salle</button>
        </div>

            <div class="join">
                <button (click)="toggleDisplay()" class="join-item btn" [class.btn-active]="displayChat">Clavardage</button>
                <button (click)="toggleDisplay()" class="join-item btn" [class.btn-active]="!displayChat">Journal</button>
            </div>

        @if (displayChat) {
            <div #gameChatContainer class="chat chat-start max-h-40 max-w-80 overflow-y-auto scroll-pr-2">
                @for(message of roomMessages; track message) {
                    <div class="chat-bubble max-w-[320px] flex-direction: column-reverse">
                        <p class="text-sm font-normal py-2.5 text-gray-900 dark:text-white">{{ message }}</p>
                    </div>
                }
            </div>
        }
        @if (!displayChat) {
            <ul #journalContainer class="max-h-40 max-w-80 overflow-y-auto scroll-pr-2">
                @for(entry of journalEntries; track entry) {
                    <li>
                        {{ entry.date | date:'HH:mm:ss' }}: {{ entry.message }}
                    </li>
                }
                </ul>
        }
        <div class="chat chat-start max-w-[320px]">
            <input id="roomMessage" class="input input-bordered" [(ngModel)]="message" (keydown.enter)="sendToRoom()" placeholder="Entrez votre message" type="text"/>
            <button class="mt-3" (click)="sendToRoom()">
                <fa-icon [icon]="paperPlaneIcon" size="lg"></fa-icon>
            </button>
        </div>
    </div>
</section>